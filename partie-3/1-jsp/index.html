<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.2">
<title>Templates JSP</title>
<link rel="stylesheet" href="./../../style.css">
<link rel="stylesheet" href="./coderay-asciidoctor.css">
</head>
<body class="article">
<div id="header">
<h1>Templates JSP</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Voici la liste des bugs répertoriés en relation avec les JSP</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p><a href="#JSP-1">[JSP-1]</a>  : Il manque un 's' dans l&#8217;entrée "Toutes les recette" du menu</p>
</li>
<li>
<p><a href="#JSP-2">[JSP-2]</a>  : le lien vers les mentions légales est incorrect</p>
</li>
<li>
<p><a href="#JSP-3">[JSP-3]</a>  : format date in recette.jsp</p>
</li>
<li>
<p><a href="#JSP-4">[JSP-4]</a>  : format tags with for each</p>
</li>
<li>
<p><a href="#JSP-5">[JSP-5]</a>  : include header with params</p>
</li>
<li>
<p><a href="#JSP-6">[JSP-6]</a>  : format text with function</p>
</li>
<li>
<p><a href="#JSP-7">[JSP-7]</a>  : auto complétion : data-service-url</p>
</li>
<li>
<p><a href="#JSP-8">[JSP-8]</a>  : add sel / poivre</p>
</li>
<li>
<p><a href="#JSP-9">[JSP-9]</a>  : delete then add, index is wrong</p>
</li>
<li>
<p><a href="#JSP-10">[JSP-10]</a> : pagination</p>
</li>
</ul>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Il n&#8217;est pas nécessaire de redémarrer le serveur tomcat avec <code>gradle tomcatRun</code> pour que les modifications soient prise en compte
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<a href="../A-jsp/index.html">l&#8217;annexe A</a> couvre ce qu&#8217;il est possible de faire dans les jsp
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_jsp_1_a_jsp_1_typo"><a id="JSP-1"></a>JSP-1 : Typo</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Il manque un 's' à "Toutes les recette" dans le menu de toutes les pages.</p>
</div>
<div class="paragraph">
<p>Les templates jsp sont dans src/main/webapp/WEB-INF/jsp</p>
</div>
<div class="paragraph">
<p>Il faut donc trouver tous les templates concernés et corriger.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_jsp_2_a_jsp_2_mauvais_lien"><a id="JSP-2"></a>JSP-2 : Mauvais lien</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Dans le footer, le lien vers les mentions légales n&#8217;est pas bon.</p>
</div>
<div class="paragraph">
<p>Il devrait pointer sur /mentions-legales</p>
</div>
<div class="paragraph">
<p>Le footer a été partagé entre les templates au travers d&#8217;un tag file.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="__a_id_jsp_3_a_jsp_3_custom_tags_et_jstl"><a id="JSP-3"></a>JSP-3 : Custom tags et jstl</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Dans la jsp qui affiche une recette, on trouve <code>&lt;p&gt;${receipe.date}&lt;/p&gt;</code></p>
</div>
<div class="paragraph">
<p>La propriété date d&#8217;une recette est de la classe <code>java.util.Date</code>.</p>
</div>
<div class="paragraph">
<p>Comme il faut obtenir une chaîne de caractère, la jsp utilise la méthode toString() qui donne par exemple.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Sun Jun 14 18:20:53 CEST 2015</pre>
</div>
</div>
<div class="paragraph">
<p>Ce n&#8217;est pas très lisible.</p>
</div>
<div class="paragraph">
<p>Il faut formatter avec le pattern suivant <code>dd MMM yyyy</code> (TODO doc java date patterns)</p>
</div>
<div id="JSP-5" class="paragraph">
<p>Le footer est produit par le tag file footer.tag.</p>
</div>
<div class="paragraph">
<p>On peut voir que ce n&#8217;est pas le cas pour le header.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="jsp">&lt;nav class=&quot;navbar navbar-default navbar-fixed-top&quot;&gt;
    &lt;div class=&quot;container-fluid&quot;&gt;
        &lt;div class=&quot;navbar-header&quot;&gt;
            &lt;button type=&quot;button&quot; class=&quot;navbar-toggle collapsed&quot; data-toggle=&quot;collapse&quot; data-target=&quot;#navbar-collapse&quot;&gt;
                &lt;span class=&quot;sr-only&quot;&gt;Toggle navigation&lt;/span&gt;
                &lt;span class=&quot;icon-bar&quot;&gt;&lt;/span&gt;
                &lt;span class=&quot;icon-bar&quot;&gt;&lt;/span&gt;
                &lt;span class=&quot;icon-bar&quot;&gt;&lt;/span&gt;
            &lt;/button&gt;
            &lt;a class=&quot;navbar-brand&quot; href=&quot;/&quot;&gt;Cooking Miam Miam&lt;/a&gt;
        &lt;/div&gt;

        &lt;div class=&quot;collapse navbar-collapse&quot; id=&quot;navbar-collapse&quot;&gt;
            &lt;ul class=&quot;nav navbar-nav&quot;&gt;
                &lt;li&gt;&lt;a href=&quot;/recettes&quot;&gt;Toutes les recette&lt;/a&gt;&lt;/li&gt;
                &lt;li&gt;&lt;a href=&quot;/recette-du-moment&quot;&gt;Recette du moment&lt;/a&gt;&lt;/li&gt;
            &lt;/ul&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/nav&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Ce n&#8217;est pas bien car si on le change, il faut le faire dans tous les fichiers.</p>
</div>
<div class="paragraph">
<p>Il faut trouver le meilleur moyen de partager ce morceau entre les templates.</p>
</div>
</div>
</div>
</div>
</body>
</html>